<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BLC Migration and Identity</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header">
    <div class="container header-grid">
      <div class="brand">
        <div class="brand-logos" aria-label="Site logos">
          <img class="logo" src="images/ywies-logo.svg" alt="YWIES logo" />
          <img class="logo" src="images/ycyw-logo.png" alt="YCYW logo" />
        </div>

        <div class="brand-text">
          <h1 data-i18n="title">BLC Migration and Identity</h1>
          <p class="subtitle">
            <span class="dq-label" data-i18n="dqLabel">Driving Question:</span>
            <span class="dq" data-i18n="drivingQuestion">How does migration affect identity and belonging?</span>
          </p>
        </div>
      </div>

      <div class="header-actions">
        <button id="langToggle" class="pill" type="button" aria-label="Toggle language">
          EN / 中文
        </button>
      </div>
    </div>

    <div class="container hero">
      <div class="hero-card">
        <div class="hero-text">
          <h2 data-i18n="heroHeading">Press Conference: Mr. Ly</h2>
          <p class="lead" data-i18n="mrLyText">
            We interviewed Mr. Ly about his migration journey and how it affected his identity.
          </p>

          <div class="media-block">
            <h3 class="small-h" data-i18n="audioHeading">Audio</h3>
            <!-- IMPORTANT: put your audio file at media/mr-ly-press-conference.m4a
                 or change the filename below to match your actual file. -->
            <audio controls preload="metadata">
              <source src="media/mr-ly-press-conference.m4a" type="audio/mp4" />
              <source src="media/mr-ly-press-conference.mp3" type="audio/mpeg" />
              Your browser does not support the audio element.
            </audio>
            <p class="muted tiny" data-i18n="audioNote">
              If the audio does not play, try adding an MP3 version as well.
            </p>
          </div>
        </div>

        <div class="hero-media">
          <!-- Press conference photo with Mr. Ly -->
          <img src="images/gallery-2.jpg" alt="Press conference photo with Mr. Ly" />
        </div>
      </div>
    </div>
  </header>

  <main id="main" class="container">
    <section class="card">
      <div class="card-head">
        <h2 data-i18n="studentSitesHeading">Student Websites</h2>
        <span class="tag" data-i18n="tagLinks">Links</span>
      </div>

      <div class="students">
        <a class="student" target="_blank" rel="noopener noreferrer"
           href="https://sustainableproduction.my.canva.site/charity-gala-event-fundraiser-non-profit-website-in-dark-green-beige-style">
          <span class="name">Oliver</span>
          <span class="url">sustainableproduction.my.canva.site</span>
        </a>

        <a class="student" target="_blank" rel="noopener noreferrer"
           href="https://sustainableproduction.my.canva.site/travel-website-in-blue-white-green-photocentric-travel-style">
          <span class="name">Quinn</span>
          <span class="url">sustainableproduction.my.canva.site</span>
        </a>

        <a class="student" target="_blank" rel="noopener noreferrer"
           href="https://sustainableproduction.my.canva.site/welcome-toling-nan">
          <span class="name">Terrance</span>
          <span class="url">sustainableproduction.my.canva.site</span>
        </a>

        <a class="student" target="_blank" rel="noopener noreferrer"
           href="https://sustainableproduction.my.canva.site/hotels-business-website">
          <span class="name">Esther</span>
          <span class="url">sustainableproduction.my.canva.site</span>
        </a>

        <a class="student" target="_blank" rel="noopener noreferrer"
           href="https://www.canva.com/design/DAG7o3t14XI/WN3fN5pUY4-4aLC7l2YSZw/view?utm_content=DAG7o3t14XI&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h3b3b9f2693">
          <span class="name">Julia</span>
          <span class="url">canva.com</span>
        </a>

        <a class="student" target="_blank" rel="noopener noreferrer"
           href="https://www.canva.com/design/DAG7owGEE9g/amdwjac1s86JRK0h1ub7fA/view?utm_content=DAG7owGEE9g&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h87867d305d">
          <span class="name">Aida</span>
          <span class="url">canva.com</span>
        </a>

        <a class="student" target="_blank" rel="noopener noreferrer"
           href="https://sustainableproduction.my.canva.site/thomas-website-practice">
          <span class="name">Thomas</span>
          <span class="url">sustainableproduction.my.canva.site</span>
        </a>
      </div>
    </section>

    <section class="card book">
      <div class="card-head">
        <h2 data-i18n="nameJarHeading">The Name Jar</h2>
        <span class="tag" data-i18n="tagText">Text</span>
      </div>

      <div class="two-col">
        <div>
          <p class="lead" data-i18n="nameJarText">
            We read The Name Jar by Yongsoon Choi about a Korean girl who moves to the United States.
            She thinks about her name and identity as she adjusts to a new school and culture and eventually makes new friends.
          </p>
        </div>

        <img class="inline-img" src="images/name-jar.jpg" alt="The Name Jar image" loading="lazy" />
      </div>
    </section>

    <section class="card gallery">
      <div class="card-head">
        <h2 data-i18n="galleryHeading">Gallery</h2>
        <span class="tag" data-i18n="tagPhotos">Photos</span>
      </div>

      <p class="muted tiny" data-i18n="galleryHint">
        Tip: Click an image to view it larger.
      </p>

      <div class="gallery-grid" id="gallery">
        <img src="images/gallery-1.jpg" alt="Gallery image 1" loading="lazy">
        <img src="images/gallery-2.jpg" alt="Gallery image 2 (press conference with Mr. Ly)" loading="lazy">
        <img src="images/gallery-3.jpg" alt="Gallery image 3" loading="lazy">
        <img src="images/gallery-4.jpg" alt="Gallery image 4" loading="lazy">
        <img src="images/gallery-5.jpg" alt="Gallery image 5" loading="lazy">
        <img src="images/gallery-6.jpg" alt="Gallery image 6" loading="lazy">
        <img src="images/gallery-7.jpg" alt="Gallery image 7" loading="lazy">
        <img src="images/gallery-8.jpg" alt="Gallery image 8" loading="lazy">
        <img src="images/gallery-9.jpg" alt="Gallery image 9" loading="lazy">
        <img src="images/gallery-10.jpg" alt="Gallery image 10" loading="lazy">
      </div>
    </section>

    <section class="card mascot">
      <div class="mascot-grid">
        <div>
          <div class="card-head">
            <h2 data-i18n="robotHeading">YCYW Robot</h2>
            <span class="tag" data-i18n="tagVisual">Visual</span>
          </div>
          <p class="muted" data-i18n="robotBody">
            The YCYW robot represents our learning journey.
          </p>
        </div>

        <img class="mascot-img" src="images/ycyw-robot.png" alt="YCYW robot" />
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-grid">
      <p>© <span id="year"></span> <span data-i18n="footerName">BLC Migration and Identity</span></p>
      <p class="muted"><span data-i18n="footerBuilt">Built with</span> HTML + CSS</p>
    </div>
  </footer>

  <!-- Lightbox Overlay -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-backdrop" data-close></div>

    <div class="lightbox-panel" role="dialog" aria-modal="true" aria-label="Image viewer">
      <button class="lb-btn close" type="button" data-close aria-label="Close">×</button>
      <button class="lb-btn prev" type="button" id="lbPrev" aria-label="Previous image">‹</button>

      <figure class="lb-figure">
        <img id="lbImg" alt="" />
        <figcaption id="lbCap"></figcaption>
      </figure>

      <button class="lb-btn next" type="button" id="lbNext" aria-label="Next image">›</button>
    </div>
  </div>

  <script>
    // -------------------------
    // Bilingual toggle (EN / 中文)
    // -------------------------
    const i18n = {
      en: {
        title: "BLC Migration and Identity",
        dqLabel: "Driving Question:",
        drivingQuestion: "How does migration affect identity and belonging?",

        heroHeading: "Press Conference: Mr. Ly",
        mrLyText: "We interviewed Mr. Ly about his migration journey and how it affected his identity.",
        audioHeading: "Audio",
        audioNote: "If the audio does not play, try adding an MP3 version as well.",

        studentSitesHeading: "Student Websites",

        nameJarHeading: "The Name Jar",
        nameJarText:
          "We read The Name Jar by Yongsoon Choi about a Korean girl who moves to the United States. " +
          "She thinks about her name and identity as she adjusts to a new school and culture and eventually makes new friends.",

        galleryHeading: "Gallery",
        galleryHint: "Tip: Click an image to view it larger.",

        robotHeading: "YCYW Robot",
        robotBody: "The YCYW robot represents our learning journey.",

        footerName: "BLC Migration and Identity",
        footerBuilt: "Built with",

        tagLinks: "Links",
        tagText: "Text",
        tagPhotos: "Photos",
        tagVisual: "Visual"
      },
      zh: {
        title: "BLC 移民與身份認同",
        dqLabel: "探究問題：",
        drivingQuestion: "移民如何影響身份認同與歸屬感？",

        heroHeading: "記者會：Ly 先生",
        mrLyText: "我們訪問了 Ly 先生，了解他的移民旅程，以及這段經歷如何影響他的身份認同。",
        audioHeading: "音訊",
        audioNote: "如果音訊無法播放，建議同時加入 MP3 版本以提高相容性。",

        studentSitesHeading: "學生網站",

        nameJarHeading: "《The Name Jar》",
        nameJarText:
          "我們閱讀了 Yongsoon Choi 的《The Name Jar》。故事講述一位韓國女孩移居美國後，" +
          "在適應新學校與新文化的過程中思考自己的名字與身份；最後她結交了新朋友。",

        galleryHeading: "相片集",
        galleryHint: "提示：按一下圖片可放大觀看。",

        robotHeading: "YCYW 機械人",
        robotBody: "YCYW 機械人象徵我們的學習旅程。",

        footerName: "BLC 移民與身份認同",
        footerBuilt: "使用",

        tagLinks: "連結",
        tagText: "文字",
        tagPhotos: "相片",
        tagVisual: "視覺"
      }
    };

    const langToggle = document.getElementById("langToggle");

    function setLanguage(lang) {
      document.documentElement.lang = (lang === "zh") ? "zh-Hant" : "en";
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (i18n[lang] && i18n[lang][key]) el.textContent = i18n[lang][key];
      });
      localStorage.setItem("siteLang", lang);
    }

    setLanguage(localStorage.getItem("siteLang") || "en");

    langToggle.addEventListener("click", () => {
      const current = localStorage.getItem("siteLang") || "en";
      setLanguage(current === "en" ? "zh" : "en");
    });

    document.getElementById("year").textContent = new Date().getFullYear();

    // -------------------------
    // Lightbox (gallery viewer)
    // -------------------------
    const gallery = document.getElementById("gallery");
    const lightbox = document.getElementById("lightbox");
    const lbImg = document.getElementById("lbImg");
    const lbCap = document.getElementById("lbCap");
    const lbPrev = document.getElementById("lbPrev");
    const lbNext = document.getElementById("lbNext");

    const images = Array.from(gallery.querySelectorAll("img"));
    let index = 0;

    function openLightbox(i) {
      index = i;
      const img = images[index];
      lbImg.src = img.src;
      lbImg.alt = img.alt || "";
      lbCap.textContent = img.alt || "";
      lightbox.classList.add("open");
      lightbox.setAttribute("aria-hidden", "false");
      document.body.classList.add("no-scroll");
    }

    function closeLightbox() {
      lightbox.classList.remove("open");
      lightbox.setAttribute("aria-hidden", "true");
      document.body.classList.remove("no-scroll");
      // optional: clear src to stop large image from lingering in memory
      lbImg.src = "";
    }

    function show(delta) {
      index = (index + delta + images.length) % images.length;
      const img = images[index];
      lbImg.src = img.src;
      lbImg.alt = img.alt || "";
      lbCap.textContent = img.alt || "";
    }

    images.forEach((img, i) => {
      img.style.cursor = "zoom-in";
      img.addEventListener("click", () => openLightbox(i));
      img.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") openLightbox(i);
      });
      img.tabIndex = 0; // keyboard focus
    });

    lbPrev.addEventListener("click", () => show(-1));
    lbNext.addEventListener("click", () => show(1));

    lightbox.addEventListener("click", (e) => {
      if (e.target.hasAttribute("data-close")) closeLightbox();
    });

    document.addEventListener("keydown", (e) => {
      if (!lightbox.classList.contains("open")) return;
      if (e.key === "Escape") closeLightbox();
      if (e.key === "ArrowLeft") show(-1);
      if (e.key === "ArrowRight") show(1);
    });
  </script>
</body>
</html>